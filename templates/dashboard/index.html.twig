{% extends 'base.html.twig' %}

{% block title %}Dashboard{% endblock %}

{% block body %}
    <h1>Dashboard</h1>

    <h2>Firmware Statistics</h2>
    <p>Total Firmwares: {{ firmware_count }}</p>

    <h3>Recent Firmwares</h3>
    <table>
        <thead>
        <tr>
            <th>Name</th>
            <th>Uploaded At</th>
        </tr>
        </thead>
        <tbody>
        {% for firmware in firmwares %}
            <tr>
                <td>{{ firmware.name }}</td>
                <td>{{ firmware.uploadedAt|date('Y-m-d H:i:s') }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div class="pagination">
        {% if current_page > 1 %}
            <a href="{{ path('app_login', {'page': current_page - 1}) }}">Previous</a>
        {% endif %}

        <span>Page {{ current_page }} of {{ total_pages }}</span>

        {% if current_page < total_pages %}
            <a href="{{ path('app_login', {'page': current_page + 1}) }}">Next</a>
        {% endif %}
    </div>
{% endblock %}
